<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LexCalc ‚Äî Calculadora de Honorarios Chile 2026</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'DM Sans',system-ui,sans-serif;background:#f5f6f8;}
input[type=range]{height:6px;}
select,input,button{font-family:inherit;}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const {useState,useRef,useCallback} = React;

const ARANCELES = {
  "Consultas y Asesor√≠as": { icon: "üí¨", color: "#6366f1", servicios: [
    { id:"c0", nombre:"Consulta online / telef√≥nica", minUF:1, maxUF:2, nota:"Videollamada, tel√©fono o chat. Sin desplazamiento" },
    { id:"c1", nombre:"Consulta presencial", minUF:2, maxUF:4, nota:"Atenci√≥n en oficina. Incluye costos de desplazamiento" },
    { id:"c2", nombre:"Consulta con informe escrito", minUF:3, maxUF:6, nota:"Incluye estudio de antecedentes y entrega de informe" },
    { id:"c3", nombre:"Consulta especialista (por hora)", minUF:3, maxUF:5, nota:"Abogado con postgrado, por hora" },
    { id:"c4", nombre:"Informe en derecho", minUF:10, maxUF:100, nota:"Seg√∫n especialidad y extensi√≥n" },
    { id:"c5", nombre:"Asesor√≠a mensual empresa", minUF:10, maxUF:40, nota:"Retainer mensual" },
    { id:"c6", nombre:"Due diligence legal", minUF:20, maxUF:100, nota:"Revisi√≥n integral empresa" },
  ]},
  "Derecho Civil": { icon: "‚öñÔ∏è", color: "#0891b2", servicios: [
    { id:"ci1", nombre:"Juicio ordinario mayor cuant√≠a", minUF:30, maxUF:80, nota:"+10% de lo obtenido/ahorrado", pct:true },
    { id:"ci2", nombre:"Juicio ordinario menor cuant√≠a", minUF:20, maxUF:50, nota:"+10% de lo obtenido/ahorrado", pct:true },
    { id:"ci3", nombre:"Juicio ordinario m√≠nima cuant√≠a", minUF:10, maxUF:30, nota:"+10% de lo obtenido/ahorrado", pct:true },
    { id:"ci4", nombre:"Juicio ejecutivo", minUF:20, maxUF:50, nota:"+10% de lo obtenido/ahorrado", pct:true },
    { id:"ci5", nombre:"Juicio sumario", minUF:20, maxUF:50, nota:"+10% de lo obtenido/ahorrado", pct:true },
    { id:"ci6", nombre:"Preparaci√≥n v√≠a ejecutiva", minUF:5, maxUF:15, nota:"Gesti√≥n preparatoria" },
    { id:"ci7", nombre:"Tercer√≠as en juicio ejecutivo", minUF:10, maxUF:30, nota:"Dominio, posesi√≥n, prelaci√≥n o pago" },
    { id:"ci8", nombre:"Juicios posesorios / Precario", minUF:15, maxUF:40, nota:"Querella posesoria o acci√≥n de precario" },
    { id:"ci9", nombre:"Juicio de arrendamiento", minUF:10, maxUF:30, nota:"Seg√∫n monto adeudado" },
    { id:"ci10", nombre:"Medidas prejudiciales", minUF:5, maxUF:15, nota:"Si resuelve el asunto: honorario mayor" },
    { id:"ci11", nombre:"Cobro indemnizaci√≥n de perjuicios", minUF:25, maxUF:80, nota:"Cuota litis 20-30%", pct:true },
    { id:"ci12", nombre:"Juicio de interdicci√≥n", minUF:20, maxUF:40, nota:"Declaraci√≥n de interdicci√≥n" },
    { id:"ci13", nombre:"Juicio sobre cuentas", minUF:10, maxUF:25, nota:"Sin/con observaciones" },
    { id:"ci14", nombre:"Citaci√≥n de evicci√≥n", minUF:25, maxUF:150, nota:"Seg√∫n escala pecuniaria" },
  ]},
  "Derecho de Familia": { icon: "üë®‚Äçüë©‚Äçüëß", color: "#d946ef", servicios: [
    { id:"f1", nombre:"Divorcio de mutuo acuerdo", minUF:8, maxUF:20, nota:"Por cada c√≥nyuge representado" },
    { id:"f2", nombre:"Divorcio unilateral (cese convivencia)", minUF:20, maxUF:40, nota:"Demandado unilateralmente" },
    { id:"f3", nombre:"Divorcio por culpa", minUF:30, maxUF:60, nota:"Causal de culpa" },
    { id:"f4", nombre:"Compensaci√≥n econ√≥mica", minUF:15, maxUF:50, nota:"10% de lo obtenido/ahorrado", pct:true },
    { id:"f5", nombre:"Pensi√≥n de alimentos", minUF:15, maxUF:30, nota:"+50% de la pensi√≥n demandada" },
    { id:"f6", nombre:"Aumento/rebaja/cese alimentos", minUF:10, maxUF:25, nota:"Modificaci√≥n de pensi√≥n" },
    { id:"f7", nombre:"Cuidado personal (tuici√≥n)", minUF:20, maxUF:40, nota:"Custodia de hijos" },
    { id:"f8", nombre:"Relaci√≥n directa y regular", minUF:15, maxUF:30, nota:"R√©gimen de visitas" },
    { id:"f9", nombre:"Patria potestad", minUF:15, maxUF:30, nota:"Ejercicio, suspensi√≥n o p√©rdida" },
    { id:"f10", nombre:"Acciones de filiaci√≥n", minUF:20, maxUF:40, nota:"Reclamaci√≥n o impugnaci√≥n" },
    { id:"f11", nombre:"Adopci√≥n", minUF:15, maxUF:30, nota:"Procedimiento completo" },
    { id:"f12", nombre:"Violencia intrafamiliar", minUF:15, maxUF:35, nota:"Medidas cautelares y juicio" },
    { id:"f13", nombre:"Nulidad de matrimonio", minUF:20, maxUF:40, nota:"Nulidad matrimonial" },
    { id:"f14", nombre:"Separaci√≥n judicial", minUF:15, maxUF:30, nota:"Separaci√≥n de cuerpos" },
    { id:"f15", nombre:"Bienes familiares", minUF:20, maxUF:50, nota:"Declaraci√≥n/desafectaci√≥n" },
    { id:"f16", nombre:"Autorizaci√≥n salida pa√≠s (menor)", minUF:15, maxUF:25, nota:"Gesti√≥n judicial" },
    { id:"f17", nombre:"Medidas protecci√≥n menores", minUF:15, maxUF:30, nota:"Vulneraci√≥n derechos NNA" },
    { id:"f18", nombre:"Guardas y discernimiento", minUF:15, maxUF:30, nota:"Nombramiento guardadores" },
  ]},
  "Derecho Laboral": { icon: "üè¢", color: "#ea580c", servicios: [
    { id:"l1", nombre:"Juicio ordinario laboral (trabajador)", minUF:10, maxUF:30, nota:"+10% de lo obtenido", pct:true },
    { id:"l2", nombre:"Juicio ordinario laboral (empleador)", minUF:20, maxUF:60, nota:"+20% de lo ahorrado", pct:true },
    { id:"l3", nombre:"Juicio monitorio (trabajador)", minUF:8, maxUF:15, nota:"Prestaciones menores" },
    { id:"l4", nombre:"Juicio monitorio (empleador)", minUF:12, maxUF:25, nota:"Defensa en cobro menor" },
    { id:"l5", nombre:"Juicio ejecutivo laboral", minUF:10, maxUF:25, nota:"Cobro forzado sentencia", pct:true },
    { id:"l6", nombre:"Despido injustificado", minUF:15, maxUF:40, nota:"+% de indemnizaci√≥n", pct:true },
    { id:"l7", nombre:"Tutela laboral / Amparo", minUF:15, maxUF:40, nota:"Derechos fundamentales" },
    { id:"l8", nombre:"Accidente del trabajo", minUF:10, maxUF:40, nota:"+10% de lo obtenido", pct:true },
    { id:"l9", nombre:"Enfermedad profesional", minUF:10, maxUF:40, nota:"+10% de lo obtenido", pct:true },
    { id:"l10", nombre:"Desafuero (maternal/sindical)", minUF:15, maxUF:30, nota:"Autorizaci√≥n judicial" },
    { id:"l11", nombre:"Negociaci√≥n colectiva (trabajadores)", minUF:15, maxUF:40, nota:"+0,5 UF por trabajador" },
    { id:"l12", nombre:"Negociaci√≥n colectiva (empleador)", minUF:25, maxUF:60, nota:"+1 UF por trabajador" },
    { id:"l13", nombre:"Constituci√≥n de sindicato", minUF:30, maxUF:50, nota:"Asesor√≠a y estatutos" },
    { id:"l14", nombre:"Cobranza previsional", minUF:15, maxUF:30, nota:"Cotizaciones impagas" },
    { id:"l15", nombre:"Reclamo multas Inspecci√≥n", minUF:15, maxUF:25, nota:"Inspecci√≥n del Trabajo" },
  ]},
  "Derecho Penal": { icon: "üîí", color: "#dc2626", servicios: [
    { id:"p1", nombre:"Defensa ordinario (salida alternativa)", minUF:15, maxUF:50, nota:"Suspensi√≥n, acuerdo reparatorio" },
    { id:"p2", nombre:"Defensa ordinario (juicio abreviado)", minUF:50, maxUF:150, nota:"Procedimiento abreviado" },
    { id:"p3", nombre:"Defensa ordinario (juicio oral)", minUF:100, maxUF:300, nota:"Juicio oral ante tribunal" },
    { id:"p4", nombre:"Defensa simplificado (acepta resp.)", minUF:15, maxUF:40, nota:"Aceptaci√≥n de responsabilidad" },
    { id:"p5", nombre:"Defensa simplificado (juicio)", minUF:30, maxUF:80, nota:"Juicio simplificado efectivo" },
    { id:"p6", nombre:"Querella criminal (ordinario)", minUF:25, maxUF:60, nota:"Interposici√≥n y seguimiento" },
    { id:"p7", nombre:"Querella criminal (simplificado)", minUF:15, maxUF:35, nota:"Procedimiento simplificado" },
    { id:"p8", nombre:"Demanda civil en sede penal", minUF:15, maxUF:50, nota:"10% de lo obtenido", pct:true },
    { id:"p9", nombre:"Delitos econ√≥micos", minUF:80, maxUF:400, nota:"Estafa, apropiaci√≥n, alta complejidad" },
    { id:"p10", nombre:"Delitos sexuales", minUF:100, maxUF:350, nota:"Muy alta complejidad" },
    { id:"p11", nombre:"Delitos Ley 20.000 (drogas)", minUF:60, maxUF:250, nota:"Seg√∫n tipo y cantidad" },
    { id:"p12", nombre:"Homicidio (defensa)", minUF:150, maxUF:500, nota:"Simple, calificado, parricidio" },
    { id:"p13", nombre:"Delitos tributarios", minUF:50, maxUF:300, nota:"Evasi√≥n, facturas falsas" },
    { id:"p14", nombre:"Extradici√≥n", minUF:100, maxUF:500, nota:"Activa o pasiva" },
    { id:"p15", nombre:"Audiencia control de detenci√≥n", minUF:10, maxUF:30, nota:"Comparecencia ante JG tras detenci√≥n" },
    { id:"p16", nombre:"Revocaci√≥n de pena sustitutiva", minUF:15, maxUF:40, nota:"Defensa en audiencia de revocaci√≥n Ley 18.216" },
    { id:"p17", nombre:"Audiencia revisi√≥n de sentencia", minUF:15, maxUF:40, nota:"Revisi√≥n de condiciones o beneficios" },
    { id:"p18", nombre:"Solicitud de pena mixta", minUF:15, maxUF:35, nota:"Ley 21.124, combinaci√≥n reclusi√≥n y libertad vigilada" },
    { id:"p19", nombre:"Solicitud traslado unidad penal", minUF:10, maxUF:25, nota:"Gesti√≥n ante Gendarmer√≠a y tribunal" },
  ]},
  "Derecho Constitucional": { icon: "üìú", color: "#7c3aed", servicios: [
    { id:"co1", nombre:"Recurso de protecci√≥n", minUF:10, maxUF:200, nota:"Seg√∫n materia y cuant√≠a" },
    { id:"co2", nombre:"Recurso de protecci√≥n (ISAPRE)", minUF:10, maxUF:30, nota:"Contra alza de plan" },
    { id:"co3", nombre:"Recurso de amparo", minUF:15, maxUF:40, nota:"Libertad personal" },
    { id:"co4", nombre:"Amparo econ√≥mico", minUF:15, maxUF:50, nota:"Art. 19 N¬∫ 21 CPR" },
    { id:"co5", nombre:"Inaplicabilidad (TC)", minUF:30, maxUF:80, nota:"Tribunal Constitucional" },
    { id:"co6", nombre:"Inconstitucionalidad", minUF:50, maxUF:200, nota:"Tribunal Constitucional" },
  ]},
  "Gestiones y Contratos": { icon: "üìã", color: "#059669", servicios: [
    { id:"g1", nombre:"Estudio de t√≠tulos (inmueble)", minUF:5, maxUF:20, nota:"2% del valor inmueble, m√≠n 5 UF" },
    { id:"g2", nombre:"Redacci√≥n contrato (con cuant√≠a)", minUF:5, maxUF:30, nota:"2% del negocio, m√≠n 5 UF" },
    { id:"g3", nombre:"Redacci√≥n contrato (sin cuant√≠a)", minUF:5, maxUF:15, nota:"Contratos generales" },
    { id:"g4", nombre:"Redacci√≥n de testamento", minUF:20, maxUF:50, nota:"Sobre 1000 UF: 5% del valor" },
    { id:"g5", nombre:"Posesi√≥n efectiva", minUF:15, maxUF:30, nota:"Judicial o Registro Civil" },
    { id:"g6", nombre:"Cambio de nombre", minUF:15, maxUF:25, nota:"Gesti√≥n voluntaria" },
    { id:"g7", nombre:"Rectificaci√≥n de partida", minUF:15, maxUF:25, nota:"Estado civil" },
    { id:"g8", nombre:"Muerte presunta", minUF:20, maxUF:40, nota:"Procedimiento especial" },
    { id:"g9", nombre:"Apertura/publicaci√≥n testamento", minUF:10, maxUF:30, nota:"Incluye protocolizaci√≥n" },
    { id:"g10", nombre:"Inventario solemne", minUF:5, maxUF:15, nota:"Gesti√≥n judicial" },
  ]},
  "Societario y Comercial": { icon: "üèõÔ∏è", color: "#b45309", servicios: [
    { id:"s1", nombre:"Constituci√≥n SpA / Ltda.", minUF:15, maxUF:40, nota:"+10% del capital suscrito" },
    { id:"s2", nombre:"Constituci√≥n S.A.", minUF:30, maxUF:80, nota:"+10% del capital suscrito" },
    { id:"s3", nombre:"Constituci√≥n EIRL", minUF:10, maxUF:25, nota:"+10% del capital" },
    { id:"s4", nombre:"Modificaci√≥n sociedad/EIRL", minUF:10, maxUF:30, nota:"2/3 del honorario constituci√≥n" },
    { id:"s5", nombre:"Disoluci√≥n/liquidaci√≥n sociedad", minUF:15, maxUF:50, nota:"Seg√∫n complejidad" },
    { id:"s6", nombre:"Procedimiento concursal", minUF:50, maxUF:200, nota:"Liquidaci√≥n, defensa" },
    { id:"s7", nombre:"Registro marcas (INAPI)", minUF:15, maxUF:30, nota:"Sin oposici√≥n" },
    { id:"s8", nombre:"Registro marcas (con oposici√≥n)", minUF:30, maxUF:60, nota:"Defensa ante INAPI" },
    { id:"s9", nombre:"Propiedad intelectual/patentes", minUF:20, maxUF:80, nota:"1-5% del valor" },
    { id:"s10", nombre:"Personalidad jur√≠dica (ONG)", minUF:5, maxUF:50, nota:"Formaci√≥n antecedentes" },
  ]},
  "Derecho Inmobiliario": { icon: "üè†", color: "#0d9488", servicios: [
    { id:"i1", nombre:"Compraventa de inmueble", minUF:10, maxUF:40, nota:"Estudio, redacci√≥n, inscripci√≥n" },
    { id:"i2", nombre:"Promesa de compraventa", minUF:5, maxUF:15, nota:"Redacci√≥n y revisi√≥n" },
    { id:"i3", nombre:"Hipoteca (constituci√≥n/alzamiento)", minUF:10, maxUF:30, nota:"1-6% del cr√©dito" },
    { id:"i4", nombre:"Servidumbres", minUF:15, maxUF:40, nota:"Constituci√≥n o extinci√≥n" },
    { id:"i5", nombre:"Regularizaci√≥n DL 2695", minUF:20, maxUF:60, nota:"Saneamiento propiedad" },
    { id:"i6", nombre:"Copropiedad inmobiliaria", minUF:15, maxUF:40, nota:"Reglamentos, conflictos" },
    { id:"i7", nombre:"Expropiaci√≥n (defensa)", minUF:15, maxUF:80, nota:"Seg√∫n valor expropiado" },
  ]},
  "Derecho Tributario": { icon: "üí∞", color: "#ca8a04", servicios: [
    { id:"t1", nombre:"Consulta tributaria", minUF:3, maxUF:10, nota:"An√°lisis situaci√≥n fiscal" },
    { id:"t2", nombre:"Reclamo tributario (TTA)", minUF:20, maxUF:100, nota:"Tribunal Tributario Aduanero" },
    { id:"t3", nombre:"Reposici√≥n administrativa", minUF:10, maxUF:50, nota:"Art.123 bis C√≥digo Tributario" },
    { id:"t4", nombre:"Planificaci√≥n tributaria", minUF:15, maxUF:60, nota:"Estructuraci√≥n fiscal" },
    { id:"t5", nombre:"Defensa fiscalizaci√≥n SII", minUF:20, maxUF:100, nota:"Auditor√≠as, citaciones" },
    { id:"t6", nombre:"Convenios pago Tesorer√≠a", minUF:5, maxUF:30, nota:"2-5% del monto convenio" },
  ]},
  "Derecho Migratorio": { icon: "üåé", color: "#2563eb", servicios: [
    { id:"m1", nombre:"Visa de trabajo", minUF:5, maxUF:15, nota:"Solicitud y seguimiento" },
    { id:"m2", nombre:"Residencia temporaria", minUF:8, maxUF:20, nota:"Diversas subcategor√≠as" },
    { id:"m3", nombre:"Residencia definitiva", minUF:8, maxUF:20, nota:"Solicitud permanencia" },
    { id:"m4", nombre:"Nacionalidad chilena", minUF:10, maxUF:25, nota:"Carta de nacionalizaci√≥n" },
    { id:"m5", nombre:"Recurso contra expulsi√≥n", minUF:15, maxUF:50, nota:"Reclamaci√≥n judicial" },
  ]},
  "Consumidor y Polic√≠a Local": { icon: "üõí", color: "#ec4899", servicios: [
    { id:"dc1", nombre:"Demanda Ley Consumidor (cliente)", minUF:10, maxUF:25, nota:"+10% de lo obtenido", pct:true },
    { id:"dc2", nombre:"Defensa empresa (Polic√≠a Local)", minUF:20, maxUF:50, nota:"Juzgado Polic√≠a Local" },
    { id:"dc3", nombre:"Reclamo SERNAC", minUF:5, maxUF:15, nota:"Mediaci√≥n y gesti√≥n" },
    { id:"dc4", nombre:"Demanda colectiva", minUF:30, maxUF:100, nota:"Inter√©s difuso o colectivo" },
    { id:"dc5", nombre:"Querellas infraccionales", minUF:10, maxUF:20, nota:"Juzgado Polic√≠a Local" },
  ]},
  "Aguas y Miner√≠a": { icon: "‚õèÔ∏è", color: "#78716c", servicios: [
    { id:"am1", nombre:"Regularizaci√≥n derechos de agua", minUF:30, maxUF:80, nota:"Art. transitorio C. Aguas" },
    { id:"am2", nombre:"Org. usuarios de agua", minUF:30, maxUF:60, nota:"Comunidades, juntas vigilancia" },
    { id:"am3", nombre:"Constituci√≥n propiedad minera", minUF:50, maxUF:100, nota:"Pertenencias, concesiones" },
    { id:"am4", nombre:"Oposici√≥n/nulidad miner√≠a", minUF:50, maxUF:150, nota:"Seg√∫n complejidad" },
  ]},
  "Recursos Procesales": { icon: "üìë", color: "#475569", servicios: [
    { id:"r1", nombre:"Recurso de apelaci√≥n", minUF:15, maxUF:50, nota:"50% arancel 1¬™ instancia" },
    { id:"r2", nombre:"Casaci√≥n en la forma", minUF:10, maxUF:40, nota:"30% honorario total, m√≠n 10 UF" },
    { id:"r3", nombre:"Casaci√≥n en el fondo", minUF:15, maxUF:50, nota:"30-50% honorario total" },
    { id:"r4", nombre:"Nulidad penal", minUF:10, maxUF:500, nota:"Seg√∫n complejidad" },
    { id:"r5", nombre:"Nulidad laboral", minUF:10, maxUF:60, nota:"Trabajador o empresa" },
    { id:"r6", nombre:"Recurso de queja", minUF:10, maxUF:50, nota:"10-50% honorario juicio" },
    { id:"r7", nombre:"Unificaci√≥n jurisprudencia", minUF:20, maxUF:50, nota:"Corte Suprema" },
    { id:"r8", nombre:"Recurso de revisi√≥n", minUF:50, maxUF:100, nota:"Corte Suprema" },
  ]},
};

const COMP=[{label:"Baja",factor:0.8,emoji:"üü¢"},{label:"Media",factor:1.0,emoji:"üü°"},{label:"Alta",factor:1.3,emoji:"üü†"},{label:"Muy Alta",factor:1.6,emoji:"üî¥"}];
const CC=["#22c55e","#eab308","#f97316","#ef4444"];
const UF0=38847.46;
const fmt=n=>n.toLocaleString("es-CL");
const $clp=n=>"$"+Math.round(n).toLocaleString("es-CL");
const $uf=n=>n.toFixed(1)+" UF";
const focusS={borderColor:"#2563eb"};
const blurS={borderColor:"#e2e8f0"};

function makePDF(cfg,items,uf,tUF,tCLP,cN,cR){const f=new Date().toLocaleDateString("es-CL",{day:"2-digit",month:"long",year:"numeric"});const nr="COT-"+Date.now().toString(36).toUpperCase().slice(-6);const nm=cfg.nombreEstudio||"Estudio Jur√≠dico";const lg=cfg.logoBase64?'<img src="'+cfg.logoBase64+'" style="max-height:65px;max-width:220px;object-fit:contain;"/>':'';const rows=items.map((it,i)=>'<tr><td style="padding:10px 14px;color:#64748b;border-bottom:1px solid #eef2f7;font-size:12px;">'+(i+1)+'</td><td style="padding:10px 14px;border-bottom:1px solid #eef2f7;"><div style="font-weight:600;color:#1a202c;font-size:12px;">'+it.nombre+'</div><div style="font-size:10px;color:#94a3b8;">'+it.categoria+' ¬∑ '+it.complejidad+(it.pct?' ¬∑ <strong style="color:#1a365d;">+'+it.pctVal+'% de lo obtenido/ahorrado</strong>':'')+'</div></td><td style="padding:10px 14px;text-align:right;border-bottom:1px solid #eef2f7;font-size:12px;font-weight:500;">'+it.uf.toFixed(1)+' UF</td><td style="padding:10px 14px;text-align:right;border-bottom:1px solid #eef2f7;font-size:12px;font-weight:500;">'+$clp(it.clp)+'</td></tr>').join("");const cl=(cN||cR)?'<div style="background:#f7fafc;border:1px solid #eef2f7;border-radius:8px;padding:14px 18px;margin-bottom:20px;display:flex;gap:40px;">'+(cN?'<div><div style="font-size:9px;text-transform:uppercase;letter-spacing:.8px;color:#94a3b8;font-weight:700;">Cliente</div><div style="font-size:13px;font-weight:600;">'+cN+'</div></div>':'')+(cR?'<div><div style="font-size:9px;text-transform:uppercase;letter-spacing:.8px;color:#94a3b8;font-weight:700;">RUT</div><div style="font-size:13px;font-weight:600;">'+cR+'</div></div>':'')+'</div>':'';const h='<!DOCTYPE html><html><head><meta charset="utf-8"><title>Cotizaci√≥n '+nr+'</title><style>@page{size:letter;margin:18mm 16mm;}*{margin:0;padding:0;box-sizing:border-box;}body{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;color:#1a202c;line-height:1.5;}</style></head><body><div style="height:5px;background:linear-gradient(90deg,#1a365d,#3182ce);"></div><div style="padding:0 6mm;"><div style="display:flex;justify-content:space-between;align-items:flex-start;padding:24px 0 20px;"><div>'+lg+(!cfg.logoBase64?'<div style="font-size:22px;font-weight:800;color:#1a365d;">'+nm+'</div>':'')+'<div style="font-size:10px;color:#64748b;line-height:1.7;margin-top:6px;">'+(cfg.logoBase64?'<strong style="color:#1a365d;">'+nm+'</strong><br>':'')+(cfg.rutEstudio?'RUT: '+cfg.rutEstudio+'<br>':'')+(cfg.direccionEstudio?cfg.direccionEstudio+'<br>':'')+(cfg.telefonoEstudio?'Tel: '+cfg.telefonoEstudio:'')+(cfg.telefonoEstudio&&cfg.emailEstudio?' ¬∑ ':'')+(cfg.emailEstudio||'')+'</div></div><div style="text-align:right;"><div style="font-size:26px;font-weight:800;color:#1a365d;">COTIZACI√ìN</div><div style="font-size:11px;color:#64748b;">N¬∞ '+nr+'<br>Fecha: '+f+'<br><span style="background:#eef2f7;border-radius:4px;padding:3px 8px;font-size:10px;display:inline-block;margin-top:4px;">UF: $'+fmt(uf)+'</span></div></div></div>'+cl+'<table style="width:100%;border-collapse:collapse;"><thead><tr style="background:#f7fafc;"><th style="padding:10px 14px;text-align:left;font-size:9px;text-transform:uppercase;letter-spacing:.7px;color:#64748b;font-weight:700;border-bottom:2px solid #1a365d;width:30px;">#</th><th style="padding:10px 14px;text-align:left;font-size:9px;text-transform:uppercase;letter-spacing:.7px;color:#64748b;font-weight:700;border-bottom:2px solid #1a365d;">Servicio</th><th style="padding:10px 14px;text-align:right;font-size:9px;text-transform:uppercase;letter-spacing:.7px;color:#64748b;font-weight:700;border-bottom:2px solid #1a365d;width:80px;">UF</th><th style="padding:10px 14px;text-align:right;font-size:9px;text-transform:uppercase;letter-spacing:.7px;color:#64748b;font-weight:700;border-bottom:2px solid #1a365d;width:120px;">CLP</th></tr></thead><tbody>'+rows+'</tbody><tr style="background:#f7fafc;border-top:2px solid #1a365d;"><td colspan="2" style="padding:14px;font-weight:800;font-size:14px;color:#1a365d;">TOTAL HONORARIOS</td><td style="padding:14px;text-align:right;font-weight:800;font-size:14px;color:#1a365d;">'+$uf(tUF)+'</td><td style="padding:14px;text-align:right;font-weight:800;font-size:14px;color:#1a365d;">'+$clp(tCLP)+'</td></tr></table><div style="background:#f7fafc;border-radius:8px;padding:16px 18px;margin-top:20px;"><div style="font-size:10px;text-transform:uppercase;letter-spacing:.7px;color:#1a365d;margin-bottom:8px;font-weight:700;">Condiciones Generales</div><div style="font-size:10px;color:#64748b;line-height:1.7;">1. Honorarios referenciales, ajustables seg√∫n complejidad efectiva.<br>2. Valores UF al valor vigente al momento del pago.<br>3. Validez: 30 d√≠as corridos.<br>4. No incluye gastos judiciales, notariales ni de receptor.<br>5. Porcentaje adicional sobre resultado favorable obtenido o ahorrado.<br>6. El abogado tiene derecho al honorario pactado aunque termine por transacci√≥n u otra v√≠a.</div></div><div style="text-align:center;margin-top:24px;padding-top:12px;border-top:1px solid #eef2f7;font-size:10px;color:#94a3b8;">'+nm+' ¬∑ Todos los derechos reservados</div></div><div style="height:4px;background:linear-gradient(90deg,#1a365d,#3182ce);margin-top:16px;"></div></body></html>';const w=window.open("","_blank","width=800,height=1000");if(w){w.document.write(h);w.document.close();setTimeout(()=>w.print(),600);}}

function App(){
  const [v,setV]=useState("calc");
  const [uf,setUF]=useState(UF0);
  const [ufL,setUfL]=useState(false);
  const [ufM,setUfM]=useState("");
  const [cfg,setCfg]=useState({nombreEstudio:"",rutEstudio:"",direccionEstudio:"",telefonoEstudio:"",emailEstudio:"",logoBase64:null});
  const [cat,setCat]=useState("");
  const [svc,setSvc]=useState(null);
  const [cp,setCp]=useState(1);
  const [rg,setRg]=useState(50);
  const [pctVal,setPctVal]=useState(10);
  const [its,setIts]=useState([]);
  const [cN,setCN]=useState("");
  const [cR,setCR]=useState("");
  const [toast,setToast]=useState("");
  const [sq,setSq]=useState("");
  const lgR=useRef(null);

  const updUF=useCallback(async()=>{setUfL(true);setUfM("");try{const r=await fetch("https://mindicador.cl/api/uf");const d=await r.json();if(d.serie&&d.serie[0]&&d.serie[0].valor){setUF(d.serie[0].valor);setUfM("Actualizado: "+new Date(d.serie[0].fecha).toLocaleDateString("es-CL"));}else throw 0;}catch(e){setUfM("Error. Ingrese manualmente.");}setUfL(false);},[]);

  const honUF=svc?(svc.minUF+(svc.maxUF-svc.minUF)*(rg/100))*COMP[cp].factor:0;
  const honCLP=honUF*uf;
  const tUF=its.reduce((s,i)=>s+i.uf,0);
  const tCLP=its.reduce((s,i)=>s+i.clp,0);

  const addItem=()=>{if(!svc)return;setIts(p=>[...p,{id:Date.now(),nombre:svc.nombre,categoria:cat,complejidad:"Complejidad "+COMP[cp].label,uf:honUF,clp:honCLP,pct:svc.pct,pctVal:svc.pct?pctVal:0}]);setToast("Servicio agregado");setTimeout(()=>setToast(""),2000);};

  const sR=useCallback(()=>{if(!sq.trim())return[];const q=sq.toLowerCase();const r=[];Object.entries(ARANCELES).forEach(([c,d])=>{d.servicios.forEach(s=>{if(s.nombre.toLowerCase().includes(q)||s.nota.toLowerCase().includes(q)||c.toLowerCase().includes(q))r.push({...s,cat:c,color:d.color,icon:d.icon});});});return r.slice(0,10);},[sq])();

  return (
    <div style={{minHeight:"100vh",background:"#f5f6f8"}}>
      <div style={{background:"#0f1729",borderBottom:"1px solid rgba(255,255,255,.06)"}}>
        <div style={{maxWidth:960,margin:"0 auto",padding:"0 20px",display:"flex",alignItems:"center",minHeight:56,gap:10,flexWrap:"wrap"}}>
          <div style={{display:"flex",alignItems:"center",gap:8,marginRight:"auto"}}><span style={{fontSize:20}}>‚öñÔ∏è</span><span style={{color:"#fff",fontSize:15,fontWeight:700}}>LexCalc</span><span style={{color:"#64748b",fontSize:11}}>Chile 2026</span></div>
          <div style={{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.1)",borderRadius:8,padding:"4px 10px",display:"flex",alignItems:"center",gap:6}}><span style={{color:"#94a3b8",fontSize:11}}>UF</span><span style={{color:"#e2e8f0",fontSize:12.5,fontWeight:700}}>${fmt(uf)}</span><button onClick={updUF} disabled={ufL} style={{background:ufL?"#334155":"#2563eb",color:"#fff",border:"none",borderRadius:5,padding:"3px 8px",fontSize:10.5,fontWeight:700,cursor:ufL?"wait":"pointer"}}>{ufL?"...":"‚ü≥"}</button></div>
          {[["calc","üßÆ","Calculadora"],["cotizacion","üìÑ","Cotizaci√≥n"],["config","‚öôÔ∏è","Config"]].map(([id,ic,tx])=><button key={id} onClick={()=>setV(id)} style={{padding:"5px 13px",borderRadius:7,border:"none",fontSize:12,fontWeight:v===id?700:500,cursor:"pointer",color:v===id?"#fff":"#94a3b8",background:v===id?"rgba(37,99,235,.18)":"transparent"}}>{ic} {tx}{id==="cotizacion"&&its.length>0&&<span style={{background:"#ef4444",color:"#fff",borderRadius:8,padding:"1px 6px",fontSize:10,fontWeight:800,marginLeft:4}}>{its.length}</span>}</button>)}
        </div>
      </div>
      {ufM&&<div style={{maxWidth:960,margin:"0 auto",padding:"6px 20px"}}><span style={{fontSize:11,color:"#64748b",background:"#f0f9ff",padding:"4px 10px",borderRadius:6}}>{ufM}</span></div>}

      <div style={{maxWidth:960,margin:"0 auto",padding:"20px 20px 60px"}}>
        {v==="calc"&&<>
          <div style={{position:"relative",marginBottom:16}}><span style={{position:"absolute",left:14,top:13,color:"#94a3b8",fontSize:16,pointerEvents:"none"}}>üîç</span><input style={{width:"100%",padding:"12px 16px 12px 42px",border:"1.5px solid #e2e8f0",borderRadius:11,fontSize:14,outline:"none",boxSizing:"border-box",background:"#fff",boxShadow:"0 1px 3px rgba(0,0,0,.04)"}} placeholder="Buscar servicio... (ej: divorcio, despido, marca)" value={sq} onChange={e=>setSq(e.target.value)}/>
            {sq&&sR.length>0&&<div style={{position:"absolute",top:"100%",left:0,right:0,background:"#fff",borderRadius:10,boxShadow:"0 10px 36px rgba(0,0,0,.12)",border:"1px solid #e8ecf1",zIndex:50,maxHeight:320,overflow:"auto",marginTop:3}}>{sR.map(r=><div key={r.id} onClick={()=>{setCat(r.cat);setSvc(r);setSq("");setRg(50);setPctVal(10);}} style={{padding:"10px 16px",cursor:"pointer",borderBottom:"1px solid #f5f6f8",display:"flex",alignItems:"center",gap:9}} onMouseOver={e=>e.currentTarget.style.background="#f8f9fb"} onMouseOut={e=>e.currentTarget.style.background="#fff"}><span style={{width:7,height:7,borderRadius:4,background:r.color,flexShrink:0}}/><div><div style={{fontSize:12.5,fontWeight:600,color:"#1a202c"}}>{r.nombre}</div><div style={{fontSize:10.5,color:"#94a3b8"}}>{r.icon} {r.cat} ¬∑ {r.minUF}‚Äì{r.maxUF} UF</div></div></div>)}</div>}
            {sq&&sR.length===0&&<div style={{position:"absolute",top:"100%",left:0,right:0,background:"#fff",borderRadius:10,boxShadow:"0 10px 36px rgba(0,0,0,.12)",padding:18,textAlign:"center",color:"#94a3b8",fontSize:12.5,marginTop:3,zIndex:50}}>Sin resultados</div>}
          </div>
          <div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",marginBottom:14,padding:"14px 18px"}}><label style={{fontSize:10,fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:".6px",marginBottom:8,display:"block"}}>√Årea del Derecho</label><div style={{display:"flex",flexWrap:"wrap",gap:6}}>{Object.entries(ARANCELES).map(([c,d])=><button key={c} onClick={()=>{setCat(c);setSvc(null);setRg(50);setPctVal(10);}} style={{padding:"6px 11px",borderRadius:7,border:cat===c?"2px solid "+d.color:"2px solid #e8ecf1",background:cat===c?d.color+"10":"#fafbfc",color:cat===c?d.color:"#64748b",fontSize:11.5,fontWeight:600,cursor:"pointer",whiteSpace:"nowrap"}}>{d.icon} {c}</button>)}</div></div>
          {cat&&<div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",marginBottom:14,padding:"14px 18px"}}><label style={{fontSize:10,fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:".6px",marginBottom:8,display:"block"}}>{ARANCELES[cat].icon} Servicio ‚Äî {cat}</label><select value={svc?svc.id:""} onChange={e=>{const s=ARANCELES[cat].servicios.find(x=>x.id===e.target.value);setSvc(s||null);setRg(50);setPctVal(10);}} style={{width:"100%",padding:"10px 12px",border:"1.5px solid #e2e8f0",borderRadius:9,fontSize:13,background:"#fafbfc",outline:"none",cursor:"pointer",boxSizing:"border-box"}}><option value="">‚Äî Seleccione un servicio ‚Äî</option>{ARANCELES[cat].servicios.map(s=><option key={s.id} value={s.id}>{s.nombre} ({s.minUF}‚Äì{s.maxUF} UF)</option>)}</select>{svc&&<div style={{marginTop:8,fontSize:11.5,color:"#64748b",padding:"7px 11px",background:"#f7f8fb",borderRadius:7}}>‚ÑπÔ∏è {svc.nota}</div>}
            {svc&&svc.pct&&<div style={{marginTop:8,padding:"10px 14px",background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:8}}><label style={{fontSize:10,fontWeight:700,color:"#2563eb",textTransform:"uppercase",letterSpacing:".5px",display:"block",marginBottom:6}}>% adicional sobre resultado obtenido/ahorrado</label><div style={{display:"flex",alignItems:"center",gap:10}}><span style={{fontSize:11,color:"#64748b"}}>1%</span><input type="range" min={1} max={50} value={pctVal} onChange={e=>setPctVal(+e.target.value)} style={{flex:1,accentColor:"#2563eb"}}/><span style={{fontSize:11,color:"#64748b"}}>50%</span></div><div style={{textAlign:"center",marginTop:4,fontSize:14,fontWeight:800,color:"#2563eb"}}>{pctVal}% de lo obtenido/ahorrado</div></div>}</div>}
          {svc&&<>
            <div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",marginBottom:14,padding:"14px 18px"}}><label style={{fontSize:10,fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:".6px",marginBottom:8,display:"block"}}>Complejidad del caso</label><div style={{display:"flex",gap:7}}>{COMP.map((c,i)=><div key={i} onClick={()=>setCp(i)} style={{flex:1,padding:"9px 4px",borderRadius:9,border:cp===i?"2px solid "+CC[i]:"2px solid #e8ecf1",background:cp===i?CC[i]+"0d":"#fafbfc",cursor:"pointer",textAlign:"center"}}><div style={{fontSize:13}}>{c.emoji}</div><div style={{fontSize:12,fontWeight:700,color:cp===i?CC[i]:"#64748b",marginTop:2}}>{c.label}</div><div style={{fontSize:10,color:"#94a3b8"}}>√ó{c.factor}</div></div>)}</div></div>
            <div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",marginBottom:14,padding:"14px 18px"}}><label style={{fontSize:10,fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:".6px",marginBottom:8,display:"block"}}>Posici√≥n en el rango ({svc.minUF} ‚Äì {svc.maxUF} UF)</label><div style={{display:"flex",alignItems:"center",gap:12}}><span style={{fontSize:11,color:"#94a3b8",minWidth:28}}>M√≠n</span><input type="range" min={0} max={100} value={rg} onChange={e=>setRg(+e.target.value)} style={{flex:1,accentColor:"#2563eb"}}/><span style={{fontSize:11,color:"#94a3b8",minWidth:28,textAlign:"right"}}>M√°x</span></div><div style={{textAlign:"center",marginTop:5,fontSize:12.5,color:"#475569",fontWeight:600}}>Base: {(svc.minUF+(svc.maxUF-svc.minUF)*(rg/100)).toFixed(1)} UF ¬∑ Con complejidad: {$uf(honUF)}</div></div>
            <div style={{background:"linear-gradient(135deg,#0f1729,#1a365d)",borderRadius:13,padding:"22px 24px",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:14,marginBottom:14}}><div><div style={{fontSize:10.5,color:"#64748b",textTransform:"uppercase",letterSpacing:".6px"}}>Honorario estimado</div><div style={{fontSize:34,fontWeight:800,letterSpacing:"-1px",marginTop:2}}>{$uf(honUF)}</div><div style={{fontSize:17,color:"#7dd3fc",fontWeight:600}}>{$clp(honCLP)}</div><div style={{fontSize:10.5,color:"#475569",marginTop:5}}>{svc.nombre} ¬∑ {COMP[cp].emoji} {COMP[cp].label}{svc.pct?" ¬∑ +"+pctVal+"% resultado":""}</div></div><button onClick={addItem} style={{background:"#2563eb",color:"#fff",border:"none",borderRadius:10,padding:"12px 26px",fontSize:13.5,fontWeight:700,cursor:"pointer",boxShadow:"0 4px 14px rgba(37,99,235,.35)"}} onMouseOver={e=>e.target.style.background="#1d4ed8"} onMouseOut={e=>e.target.style.background="#2563eb"}>+ Agregar a cotizaci√≥n</button></div>
          </>}
          {its.length>0&&<div onClick={()=>setV("cotizacion")} style={{background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:10,padding:"11px 16px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"}}><span style={{fontSize:12.5,fontWeight:600,color:"#166534"}}>üìÑ {its.length} servicio{its.length>1?"s":""} en cotizaci√≥n</span><span style={{fontSize:13,fontWeight:800,color:"#166534"}}>{$uf(tUF)} ¬∑ {$clp(tCLP)}</span></div>}
        </>}
        {v==="cotizacion"&&<>{its.length===0?<div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04)",textAlign:"center",padding:"48px 20px"}}><div style={{fontSize:48,marginBottom:10}}>üìã</div><h3 style={{color:"#475569",fontSize:16,margin:"0 0 8px",fontWeight:700}}>Cotizaci√≥n vac√≠a</h3><p style={{color:"#94a3b8",fontSize:12.5,marginBottom:18}}>Agrega servicios desde la calculadora</p><button onClick={()=>setV("calc")} style={{background:"#2563eb",color:"#fff",border:"none",borderRadius:8,padding:"9px 22px",fontSize:12.5,fontWeight:700,cursor:"pointer"}}>Ir a la calculadora</button></div>:<><div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",marginBottom:14,padding:"14px 18px"}}><label style={{fontSize:10,fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:".6px",marginBottom:8,display:"block"}}>Datos del cliente (opcionales)</label><div style={{display:"flex",gap:10}}><input placeholder="Nombre del cliente" value={cN} onChange={e=>setCN(e.target.value)} style={{flex:2,padding:"9px 12px",border:"1.5px solid #e2e8f0",borderRadius:8,fontSize:13,outline:"none",boxSizing:"border-box",background:"#fafbfc"}} onFocus={e=>Object.assign(e.target.style,focusS)} onBlur={e=>Object.assign(e.target.style,blurS)}/><input placeholder="RUT" value={cR} onChange={e=>setCR(e.target.value)} style={{flex:1,padding:"9px 12px",border:"1.5px solid #e2e8f0",borderRadius:8,fontSize:13,outline:"none",boxSizing:"border-box",background:"#fafbfc"}} onFocus={e=>Object.assign(e.target.style,focusS)} onBlur={e=>Object.assign(e.target.style,blurS)}/></div></div>
          <div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",overflow:"hidden"}}><div style={{padding:"13px 18px",borderBottom:"1px solid #f1f3f5",display:"flex",alignItems:"center",justifyContent:"space-between"}}><span style={{fontSize:14,fontWeight:700,color:"#1a202c"}}>Detalle de servicios</span><div style={{display:"flex",gap:7}}><button onClick={()=>setIts([])} style={{background:"#fef2f2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:7,padding:"6px 12px",fontSize:11.5,fontWeight:600,cursor:"pointer"}}>Limpiar</button><button onClick={()=>makePDF(cfg,its,uf,tUF,tCLP,cN,cR)} style={{background:"#0f1729",color:"#fff",border:"none",borderRadius:7,padding:"6px 16px",fontSize:12.5,fontWeight:700,cursor:"pointer",boxShadow:"0 2px 8px rgba(15,23,41,.25)"}}>üñ®Ô∏è Generar PDF</button></div></div>
          {its.map((it,i)=><div key={it.id} style={{display:"flex",alignItems:"center",padding:"12px 18px",borderBottom:i<its.length-1?"1px solid #f5f6f8":"none",gap:10}}><div style={{width:26,height:26,borderRadius:6,background:"#f1f3f5",display:"flex",alignItems:"center",justifyContent:"center",fontSize:11.5,fontWeight:700,color:"#64748b",flexShrink:0}}>{i+1}</div><div style={{flex:1,minWidth:0}}><div style={{fontSize:13,fontWeight:600,color:"#1a202c"}}>{it.nombre}</div><div style={{fontSize:10.5,color:"#94a3b8"}}>{it.categoria} ¬∑ {it.complejidad}{it.pct?" ¬∑ +"+it.pctVal+"% de lo obtenido/ahorrado":""}</div></div><div style={{textAlign:"right",flexShrink:0}}><div style={{fontSize:13,fontWeight:700,color:"#1a202c"}}>{$uf(it.uf)}</div><div style={{fontSize:11,color:"#64748b"}}>{$clp(it.clp)}</div></div><button onClick={()=>setIts(p=>p.filter(x=>x.id!==it.id))} style={{background:"none",border:"none",color:"#cbd5e1",cursor:"pointer",fontSize:17,padding:"3px 7px",borderRadius:5}} onMouseOver={e=>{e.target.style.color="#ef4444";e.target.style.background="#fef2f2";}} onMouseOut={e=>{e.target.style.color="#cbd5e1";e.target.style.background="none";}}>√ó</button></div>)}
          <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"14px 18px",borderTop:"2px solid #0f1729",background:"#f7f8fb"}}><div style={{fontSize:14,fontWeight:800,color:"#0f1729"}}>TOTAL</div><div style={{textAlign:"right"}}><div style={{fontSize:20,fontWeight:800,color:"#0f1729",letterSpacing:"-.5px"}}>{$uf(tUF)}</div><div style={{fontSize:13,color:"#475569",fontWeight:600}}>{$clp(tCLP)}</div></div></div></div>
          {!cfg.nombreEstudio&&<div style={{marginTop:12,background:"#fffbeb",border:"1px solid #fde68a",borderRadius:9,padding:"9px 14px",fontSize:11.5,color:"#92400e"}}>üí° Configura tu estudio en <strong style={{cursor:"pointer",textDecoration:"underline"}} onClick={()=>setV("config")}>Configuraci√≥n</strong> para personalizar el PDF.</div>}
        </>}</>}
        {v==="config"&&<><div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",marginBottom:14,overflow:"hidden"}}><div style={{padding:"13px 18px",borderBottom:"1px solid #f1f3f5"}}><span style={{fontSize:14,fontWeight:700,color:"#1a202c"}}>‚öôÔ∏è Datos del Estudio</span></div><div style={{padding:"16px 18px"}}><div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12}}>{[["nombreEstudio","Nombre del Estudio","Ej: Garc√≠a & Asociados"],["rutEstudio","RUT","Ej: 76.123.456-7"],["telefonoEstudio","Tel√©fono","Ej: +56 9 1234 5678"],["emailEstudio","Email","Ej: contacto@estudio.cl"]].map(([k,l,p])=><div key={k}><label style={{fontSize:10,fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:".6px",marginBottom:6,display:"block"}}>{l}</label><input value={cfg[k]} onChange={e=>setCfg(c=>({...c,[k]:e.target.value}))} placeholder={p} style={{width:"100%",padding:"9px 12px",border:"1.5px solid #e2e8f0",borderRadius:8,fontSize:13,outline:"none",boxSizing:"border-box",background:"#fafbfc"}} onFocus={e=>Object.assign(e.target.style,focusS)} onBlur={e=>Object.assign(e.target.style,blurS)}/></div>)}<div style={{gridColumn:"1/-1"}}><label style={{fontSize:10,fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:".6px",marginBottom:6,display:"block"}}>Direcci√≥n</label><input value={cfg.direccionEstudio} onChange={e=>setCfg(c=>({...c,direccionEstudio:e.target.value}))} placeholder="Ej: Av. Providencia 1234, Of. 56" style={{width:"100%",padding:"9px 12px",border:"1.5px solid #e2e8f0",borderRadius:8,fontSize:13,outline:"none",boxSizing:"border-box",background:"#fafbfc"}} onFocus={e=>Object.assign(e.target.style,focusS)} onBlur={e=>Object.assign(e.target.style,blurS)}/></div></div></div></div>
          <div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",marginBottom:14,overflow:"hidden"}}><div style={{padding:"13px 18px",borderBottom:"1px solid #f1f3f5"}}><span style={{fontSize:14,fontWeight:700,color:"#1a202c"}}>üñºÔ∏è Logo del Estudio</span></div><div style={{padding:"16px 18px"}}><div onClick={()=>lgR.current?.click()} style={{border:"2px dashed #d1d5db",borderRadius:11,padding:22,textAlign:"center",cursor:"pointer",background:"#fafbfc"}}>{cfg.logoBase64?<div><img src={cfg.logoBase64} alt="" style={{maxHeight:75,maxWidth:250}}/><p style={{fontSize:10.5,color:"#94a3b8",marginTop:6}}>Click para cambiar</p></div>:<div><div style={{fontSize:32,marginBottom:6,opacity:.5}}>üìé</div><p style={{fontSize:12.5,color:"#94a3b8"}}>Click para cargar logo (PNG, JPG)</p></div>}</div><input ref={lgR} type="file" accept="image/*" style={{display:"none"}} onChange={e=>{const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=ev=>setCfg(c=>({...c,logoBase64:ev.target.result}));r.readAsDataURL(f);}}/>{cfg.logoBase64&&<button onClick={()=>setCfg(c=>({...c,logoBase64:null}))} style={{marginTop:7,background:"#fef2f2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:6,padding:"5px 12px",fontSize:11.5,cursor:"pointer",fontWeight:600}}>Eliminar logo</button>}</div></div>
          <div style={{background:"#fff",borderRadius:13,boxShadow:"0 1px 3px rgba(0,0,0,.04),0 0 0 1px rgba(0,0,0,.03)",overflow:"hidden"}}><div style={{padding:"13px 18px",borderBottom:"1px solid #f1f3f5"}}><span style={{fontSize:14,fontWeight:700,color:"#1a202c"}}>üí≤ Valor de la UF</span></div><div style={{padding:"16px 18px"}}><div style={{display:"flex",gap:8,alignItems:"center"}}><input type="number" value={uf} onChange={e=>{setUF(parseFloat(e.target.value)||0);setUfM("Valor manual");}} style={{padding:"9px 12px",border:"1.5px solid #e2e8f0",borderRadius:8,fontSize:13,width:180,outline:"none",boxSizing:"border-box",background:"#fafbfc"}}/><button onClick={updUF} disabled={ufL} style={{background:"#2563eb",color:"#fff",border:"none",borderRadius:8,padding:"9px 18px",fontSize:12.5,fontWeight:700,cursor:ufL?"wait":"pointer",opacity:ufL?.6:1}}>‚ü≥ Actualizar UF</button></div>{ufM&&<p style={{fontSize:11.5,color:"#64748b",marginTop:6}}>{ufM}</p>}<p style={{fontSize:10.5,color:"#94a3b8",marginTop:8}}>Actualiza desde mindicador.cl o ingresa manualmente.</p></div></div>
        </>}
        <div style={{textAlign:"center",marginTop:32,fontSize:10.5,color:"#b0b8c4",lineHeight:1.8}}>Aranceles basados en tablas referenciales del Colegio de Abogados de Chile<br/>Los valores son orientativos y no constituyen tarifa obligatoria</div>
      </div>
      {toast&&<div style={{position:"fixed",bottom:22,left:"50%",transform:"translateX(-50%)",background:"#0f1729",color:"#fff",padding:"9px 22px",borderRadius:9,fontSize:12.5,fontWeight:600,boxShadow:"0 8px 28px rgba(0,0,0,.2)",zIndex:999}}>‚úì {toast}</div>}
    </div>
  );
}

ReactDOM.render(<App/>, document.getElementById('root'));
</script>
</body>
</html>
